{% extends "base.html" %}

{% block title %}Gráfico en Tiempo Real{% endblock %}

{% block content %}
<div class="container mt-4 text-center">
  <h1>Gráfico en Tiempo Real</h1>
  <img src="{{ url_for('plot_png') }}" id="plot" class="img-fluid" alt="Gráfico en tiempo real">
</div>

<script>
  // Actualiza la imagen cada 5 segundos para refrescar el gráfico
  setInterval(function(){
    var img = document.getElementById('plot');
    // Se añade un parámetro de tiempo para evitar el caché del navegador
    img.src = "{{ url_for('plot_png') }}" + "?t=" + new Date().getTime();
  }, 5000);
</script>
{% endblock %}
